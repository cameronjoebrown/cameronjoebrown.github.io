function Rt(s,e){for(let n=1,t=1;n<s.length;n++,t++)if(e[t]==="\\")t++;else if(s[n]===":")return n;throw new Error(`Unterminated $localize metadata block in "${e}".`)}var De=function(s,...e){if(De.translate){let t=De.translate(s,e);s=t[0],e=t[1]}let n=ct(s[0],s.raw[0]);for(let t=1;t<s.length;t++)n+=e[t-1]+ct(s[t],s.raw[t]);return n},Dt=":";function ct(s,e){return e.charAt(0)===Dt?s.substring(Rt(s,e)+1):s}globalThis.$localize=De;var ue=globalThis;function ne(s){return(ue.__Zone_symbol_prefix||"__zone_symbol__")+s}function Zt(){let s=ue.performance;function e(U){s&&s.mark&&s.mark(U)}function n(U,I){s&&s.measure&&s.measure(U,I)}e("Zone");let t=(()=>{class U{static __symbol__=ne;static assertZonePatched(){if(ue.Promise!==N.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let o=U.current;for(;o.parent;)o=o.parent;return o}static get current(){return F.zone}static get currentTask(){return H}static __load_patch(o,c,Z=!1){if(N.hasOwnProperty(o)){let x=ue[ne("forceDuplicateZoneCheck")]===!0;if(!Z&&x)throw Error("Already loaded patch: "+o)}else if(!ue["__Zone_disable_"+o]){let x="Zone:"+o;e(x),N[o]=c(ue,U,j),n(x,x)}}get parent(){return this._parent}get name(){return this._name}_parent;_name;_properties;_zoneDelegate;constructor(o,c){this._parent=o,this._name=c?c.name||"unnamed":"<root>",this._properties=c&&c.properties||{},this._zoneDelegate=new a(this,this._parent&&this._parent._zoneDelegate,c)}get(o){let c=this.getZoneWith(o);if(c)return c._properties[o]}getZoneWith(o){let c=this;for(;c;){if(c._properties.hasOwnProperty(o))return c;c=c._parent}return null}fork(o){if(!o)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,o)}wrap(o,c){if(typeof o!="function")throw new Error("Expecting function got: "+o);let Z=this._zoneDelegate.intercept(this,o,c),x=this;return function(){return x.runGuarded(Z,this,arguments,c)}}run(o,c,Z,x){F={parent:F,zone:this};try{return this._zoneDelegate.invoke(this,o,c,Z,x)}finally{F=F.parent}}runGuarded(o,c=null,Z,x){F={parent:F,zone:this};try{try{return this._zoneDelegate.invoke(this,o,c,Z,x)}catch(J){if(this._zoneDelegate.handleError(this,J))throw J}}finally{F=F.parent}}runTask(o,c,Z){if(o.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(o.zone||R).name+"; Execution: "+this.name+")");let x=o,{type:J,data:{isPeriodic:B=!1,isRefreshable:ye=!1}={}}=o;if(o.state===y&&(J===W||J===P))return;let he=o.state!=T;he&&x._transitionTo(T,i);let fe=H;H=x,F={parent:F,zone:this};try{J==P&&o.data&&!B&&!ye&&(o.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,x,c,Z)}catch(se){if(this._zoneDelegate.handleError(this,se))throw se}}finally{let se=o.state;if(se!==y&&se!==p)if(J==W||B||ye&&se===l)he&&x._transitionTo(i,T,l);else{let S=x._zoneDelegates;this._updateTaskCount(x,-1),he&&x._transitionTo(y,T,y),ye&&(x._zoneDelegates=S)}F=F.parent,H=fe}}scheduleTask(o){if(o.zone&&o.zone!==this){let Z=this;for(;Z;){if(Z===o.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${o.zone.name}`);Z=Z.parent}}o._transitionTo(l,y);let c=[];o._zoneDelegates=c,o._zone=this;try{o=this._zoneDelegate.scheduleTask(this,o)}catch(Z){throw o._transitionTo(p,l,y),this._zoneDelegate.handleError(this,Z),Z}return o._zoneDelegates===c&&this._updateTaskCount(o,1),o.state==l&&o._transitionTo(i,l),o}scheduleMicroTask(o,c,Z,x){return this.scheduleTask(new h(C,o,c,Z,x,void 0))}scheduleMacroTask(o,c,Z,x,J){return this.scheduleTask(new h(P,o,c,Z,x,J))}scheduleEventTask(o,c,Z,x,J){return this.scheduleTask(new h(W,o,c,Z,x,J))}cancelTask(o){if(o.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(o.zone||R).name+"; Execution: "+this.name+")");if(!(o.state!==i&&o.state!==T)){o._transitionTo(_,i,T);try{this._zoneDelegate.cancelTask(this,o)}catch(c){throw o._transitionTo(p,_),this._zoneDelegate.handleError(this,c),c}return this._updateTaskCount(o,-1),o._transitionTo(y,_),o.runCount=-1,o}}_updateTaskCount(o,c){let Z=o._zoneDelegates;c==-1&&(o._zoneDelegates=null);for(let x=0;x<Z.length;x++)Z[x]._updateTaskCount(o.type,c)}}return U})(),r={name:"",onHasTask:(U,I,o,c)=>U.hasTask(o,c),onScheduleTask:(U,I,o,c)=>U.scheduleTask(o,c),onInvokeTask:(U,I,o,c,Z,x)=>U.invokeTask(o,c,Z,x),onCancelTask:(U,I,o,c)=>U.cancelTask(o,c)};class a{get zone(){return this._zone}_zone;_taskCounts={microTask:0,macroTask:0,eventTask:0};_parentDelegate;_forkDlgt;_forkZS;_forkCurrZone;_interceptDlgt;_interceptZS;_interceptCurrZone;_invokeDlgt;_invokeZS;_invokeCurrZone;_handleErrorDlgt;_handleErrorZS;_handleErrorCurrZone;_scheduleTaskDlgt;_scheduleTaskZS;_scheduleTaskCurrZone;_invokeTaskDlgt;_invokeTaskZS;_invokeTaskCurrZone;_cancelTaskDlgt;_cancelTaskZS;_cancelTaskCurrZone;_hasTaskDlgt;_hasTaskDlgtOwner;_hasTaskZS;_hasTaskCurrZone;constructor(I,o,c){this._zone=I,this._parentDelegate=o,this._forkZS=c&&(c&&c.onFork?c:o._forkZS),this._forkDlgt=c&&(c.onFork?o:o._forkDlgt),this._forkCurrZone=c&&(c.onFork?this._zone:o._forkCurrZone),this._interceptZS=c&&(c.onIntercept?c:o._interceptZS),this._interceptDlgt=c&&(c.onIntercept?o:o._interceptDlgt),this._interceptCurrZone=c&&(c.onIntercept?this._zone:o._interceptCurrZone),this._invokeZS=c&&(c.onInvoke?c:o._invokeZS),this._invokeDlgt=c&&(c.onInvoke?o:o._invokeDlgt),this._invokeCurrZone=c&&(c.onInvoke?this._zone:o._invokeCurrZone),this._handleErrorZS=c&&(c.onHandleError?c:o._handleErrorZS),this._handleErrorDlgt=c&&(c.onHandleError?o:o._handleErrorDlgt),this._handleErrorCurrZone=c&&(c.onHandleError?this._zone:o._handleErrorCurrZone),this._scheduleTaskZS=c&&(c.onScheduleTask?c:o._scheduleTaskZS),this._scheduleTaskDlgt=c&&(c.onScheduleTask?o:o._scheduleTaskDlgt),this._scheduleTaskCurrZone=c&&(c.onScheduleTask?this._zone:o._scheduleTaskCurrZone),this._invokeTaskZS=c&&(c.onInvokeTask?c:o._invokeTaskZS),this._invokeTaskDlgt=c&&(c.onInvokeTask?o:o._invokeTaskDlgt),this._invokeTaskCurrZone=c&&(c.onInvokeTask?this._zone:o._invokeTaskCurrZone),this._cancelTaskZS=c&&(c.onCancelTask?c:o._cancelTaskZS),this._cancelTaskDlgt=c&&(c.onCancelTask?o:o._cancelTaskDlgt),this._cancelTaskCurrZone=c&&(c.onCancelTask?this._zone:o._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let Z=c&&c.onHasTask,x=o&&o._hasTaskZS;(Z||x)&&(this._hasTaskZS=Z?c:r,this._hasTaskDlgt=o,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,c.onScheduleTask||(this._scheduleTaskZS=r,this._scheduleTaskDlgt=o,this._scheduleTaskCurrZone=this._zone),c.onInvokeTask||(this._invokeTaskZS=r,this._invokeTaskDlgt=o,this._invokeTaskCurrZone=this._zone),c.onCancelTask||(this._cancelTaskZS=r,this._cancelTaskDlgt=o,this._cancelTaskCurrZone=this._zone))}fork(I,o){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,I,o):new t(I,o)}intercept(I,o,c){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,I,o,c):o}invoke(I,o,c,Z,x){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,I,o,c,Z,x):o.apply(c,Z)}handleError(I,o){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,I,o):!0}scheduleTask(I,o){let c=o;if(this._scheduleTaskZS)this._hasTaskZS&&c._zoneDelegates.push(this._hasTaskDlgtOwner),c=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,I,o),c||(c=o);else if(o.scheduleFn)o.scheduleFn(o);else if(o.type==C)v(o);else throw new Error("Task is missing scheduleFn.");return c}invokeTask(I,o,c,Z){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,I,o,c,Z):o.callback.apply(c,Z)}cancelTask(I,o){let c;if(this._cancelTaskZS)c=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,I,o);else{if(!o.cancelFn)throw Error("Task is not cancelable");c=o.cancelFn(o)}return c}hasTask(I,o){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,I,o)}catch(c){this.handleError(I,c)}}_updateTaskCount(I,o){let c=this._taskCounts,Z=c[I],x=c[I]=Z+o;if(x<0)throw new Error("More tasks executed then were scheduled.");if(Z==0||x==0){let J={microTask:c.microTask>0,macroTask:c.macroTask>0,eventTask:c.eventTask>0,change:I};this.hasTask(this._zone,J)}}}class h{type;source;invoke;callback;data;scheduleFn;cancelFn;_zone=null;runCount=0;_zoneDelegates=null;_state="notScheduled";constructor(I,o,c,Z,x,J){if(this.type=I,this.source=o,this.data=Z,this.scheduleFn=x,this.cancelFn=J,!c)throw new Error("callback is not defined");this.callback=c;let B=this;I===W&&Z&&Z.useG?this.invoke=h.invokeTask:this.invoke=function(){return h.invokeTask.call(ue,B,this,arguments)}}static invokeTask(I,o,c){I||(I=this),te++;try{return I.runCount++,I.zone.runTask(I,o,c)}finally{te==1&&E(),te--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(y,l)}_transitionTo(I,o,c){if(this._state===o||this._state===c)this._state=I,I==y&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${I}', expecting state '${o}'${c?" or '"+c+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let d=ne("setTimeout"),f=ne("Promise"),b=ne("then"),m=[],A=!1,w;function M(U){if(w||ue[f]&&(w=ue[f].resolve(0)),w){let I=w[b];I||(I=w.then),I.call(w,U)}else ue[d](U,0)}function v(U){te===0&&m.length===0&&M(E),U&&m.push(U)}function E(){if(!A){for(A=!0;m.length;){let U=m;m=[];for(let I=0;I<U.length;I++){let o=U[I];try{o.zone.runTask(o,null,null)}catch(c){j.onUnhandledError(c)}}}j.microtaskDrainDone(),A=!1}}let R={name:"NO ZONE"},y="notScheduled",l="scheduling",i="scheduled",T="running",_="canceling",p="unknown",C="microTask",P="macroTask",W="eventTask",N={},j={symbol:ne,currentZoneFrame:()=>F,onUnhandledError:K,microtaskDrainDone:K,scheduleMicroTask:v,showUncaughtError:()=>!t[ne("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:K,patchMethod:()=>K,bindArguments:()=>[],patchThen:()=>K,patchMacroTask:()=>K,patchEventPrototype:()=>K,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>K,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>K,wrapWithCurrentZone:()=>K,filterProperties:()=>[],attachOriginToPatched:()=>K,_redefineProperty:()=>K,patchCallbacks:()=>K,nativeScheduleMicroTask:M},F={parent:null,zone:new t(null,null)},H=null,te=0;function K(){}return n("Zone","Zone"),t}function Ot(){let s=globalThis,e=s[ne("forceDuplicateZoneCheck")]===!0;if(s.Zone&&(e||typeof s.Zone.__symbol__!="function"))throw new Error("Zone already loaded.");return s.Zone??=Zt(),s.Zone}var we=Object.getOwnPropertyDescriptor,Be=Object.defineProperty,We=Object.getPrototypeOf,Ft=Object.create,Mt=Array.prototype.slice,Ve="addEventListener",$e="removeEventListener",Ue=ne(Ve),qe=ne($e),de="true",Te="false",Ae=ne("");function Qe(s,e){return Zone.current.wrap(s,e)}function Xe(s,e,n,t,r){return Zone.current.scheduleMacroTask(s,e,n,t,r)}var V=ne,Fe=typeof window<"u",Ce=Fe?window:void 0,Y=Fe&&Ce||globalThis,xt="removeAttribute";function Ke(s,e){for(let n=s.length-1;n>=0;n--)typeof s[n]=="function"&&(s[n]=Qe(s[n],e+"_"+n));return s}function Nt(s,e){let n=s.constructor.name;for(let t=0;t<e.length;t++){let r=e[t],a=s[r];if(a){let h=we(s,r);if(!Tt(h))continue;s[r]=(d=>{let f=function(){return d.apply(this,Ke(arguments,n+"."+r))};return _e(f,d),f})(a)}}}function Tt(s){return s?s.writable===!1?!1:!(typeof s.get=="function"&&typeof s.set>"u"):!0}var pt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Me=!("nw"in Y)&&typeof Y.process<"u"&&Y.process.toString()==="[object process]",Je=!Me&&!pt&&!!(Fe&&Ce.HTMLElement),_t=typeof Y.process<"u"&&Y.process.toString()==="[object process]"&&!pt&&!!(Fe&&Ce.HTMLElement),Oe={},jt=V("enable_beforeunload"),at=function(s){if(s=s||Y.event,!s)return;let e=Oe[s.type];e||(e=Oe[s.type]=V("ON_PROPERTY"+s.type));let n=this||s.target||Y,t=n[e],r;if(Je&&n===Ce&&s.type==="error"){let a=s;r=t&&t.call(this,a.message,a.filename,a.lineno,a.colno,a.error),r===!0&&s.preventDefault()}else r=t&&t.apply(this,arguments),s.type==="beforeunload"&&Y[jt]&&typeof r=="string"?s.returnValue=r:r!=null&&!r&&s.preventDefault();return r};function ut(s,e,n){let t=we(s,e);if(!t&&n&&we(n,e)&&(t={enumerable:!0,configurable:!0}),!t||!t.configurable)return;let r=V("on"+e+"patched");if(s.hasOwnProperty(r)&&s[r])return;delete t.writable,delete t.value;let a=t.get,h=t.set,d=e.slice(2),f=Oe[d];f||(f=Oe[d]=V("ON_PROPERTY"+d)),t.set=function(b){let m=this;if(!m&&s===Y&&(m=Y),!m)return;typeof m[f]=="function"&&m.removeEventListener(d,at),h?.call(m,null),m[f]=b,typeof b=="function"&&m.addEventListener(d,at,!1)},t.get=function(){let b=this;if(!b&&s===Y&&(b=Y),!b)return null;let m=b[f];if(m)return m;if(a){let A=a.call(this);if(A)return t.set.call(this,A),typeof b[xt]=="function"&&b.removeAttribute(e),A}return null},Be(s,e,t),s[r]=!0}function mt(s,e,n){if(e)for(let t=0;t<e.length;t++)ut(s,"on"+e[t],n);else{let t=[];for(let r in s)r.slice(0,2)=="on"&&t.push(r);for(let r=0;r<t.length;r++)ut(s,t[r],n)}}var oe=V("originalInstance");function ve(s){let e=Y[s];if(!e)return;Y[V(s)]=e,Y[s]=function(){let r=Ke(arguments,s);switch(r.length){case 0:this[oe]=new e;break;case 1:this[oe]=new e(r[0]);break;case 2:this[oe]=new e(r[0],r[1]);break;case 3:this[oe]=new e(r[0],r[1],r[2]);break;case 4:this[oe]=new e(r[0],r[1],r[2],r[3]);break;default:throw new Error("Arg list too long.")}},_e(Y[s],e);let n=new e(function(){}),t;for(t in n)s==="XMLHttpRequest"&&t==="responseBlob"||(function(r){typeof n[r]=="function"?Y[s].prototype[r]=function(){return this[oe][r].apply(this[oe],arguments)}:Be(Y[s].prototype,r,{set:function(a){typeof a=="function"?(this[oe][r]=Qe(a,s+"."+r),_e(this[oe][r],a)):this[oe][r]=a},get:function(){return this[oe][r]}})})(t);for(t in e)t!=="prototype"&&e.hasOwnProperty(t)&&(Y[s][t]=e[t])}function pe(s,e,n){let t=s;for(;t&&!t.hasOwnProperty(e);)t=We(t);!t&&s[e]&&(t=s);let r=V(e),a=null;if(t&&(!(a=t[r])||!t.hasOwnProperty(r))){a=t[r]=t[e];let h=t&&we(t,e);if(Tt(h)){let d=n(a,r,e);t[e]=function(){return d(this,arguments)},_e(t[e],a)}}return a}function Lt(s,e,n){let t=null;function r(a){let h=a.data;return h.args[h.cbIdx]=function(){a.invoke.apply(this,arguments)},t.apply(h.target,h.args),a}t=pe(s,e,a=>function(h,d){let f=n(h,d);return f.cbIdx>=0&&typeof d[f.cbIdx]=="function"?Xe(f.name,d[f.cbIdx],f,r):a.apply(h,d)})}function _e(s,e){s[V("OriginalDelegate")]=e}var lt=!1,ze=!1;function Ht(){if(lt)return ze;lt=!0;try{let s=Ce.navigator.userAgent;(s.indexOf("MSIE ")!==-1||s.indexOf("Trident/")!==-1||s.indexOf("Edge/")!==-1)&&(ze=!0)}catch{}return ze}function ht(s){return typeof s=="function"}function ft(s){return typeof s=="number"}var Ut={useG:!0},re={},yt={},gt=new RegExp("^"+Ae+"(\\w+)(true|false)$"),kt=V("propagationStopped");function Et(s,e){let n=(e?e(s):s)+Te,t=(e?e(s):s)+de,r=Ae+n,a=Ae+t;re[s]={},re[s][Te]=r,re[s][de]=a}function qt(s,e,n,t){let r=t&&t.add||Ve,a=t&&t.rm||$e,h=t&&t.listeners||"eventListeners",d=t&&t.rmAll||"removeAllListeners",f=V(r),b="."+r+":",m="prependListener",A="."+m+":",w=function(l,i,T){if(l.isRemoved)return;let _=l.callback;typeof _=="object"&&_.handleEvent&&(l.callback=P=>_.handleEvent(P),l.originalDelegate=_);let p;try{l.invoke(l,i,[T])}catch(P){p=P}let C=l.options;if(C&&typeof C=="object"&&C.once){let P=l.originalDelegate?l.originalDelegate:l.callback;i[a].call(i,T.type,P,C)}return p};function M(l,i,T){if(i=i||s.event,!i)return;let _=l||i.target||s,p=_[re[i.type][T?de:Te]];if(p){let C=[];if(p.length===1){let P=w(p[0],_,i);P&&C.push(P)}else{let P=p.slice();for(let W=0;W<P.length&&!(i&&i[kt]===!0);W++){let N=w(P[W],_,i);N&&C.push(N)}}if(C.length===1)throw C[0];for(let P=0;P<C.length;P++){let W=C[P];e.nativeScheduleMicroTask(()=>{throw W})}}}let v=function(l){return M(this,l,!1)},E=function(l){return M(this,l,!0)};function R(l,i){if(!l)return!1;let T=!0;i&&i.useG!==void 0&&(T=i.useG);let _=i&&i.vh,p=!0;i&&i.chkDup!==void 0&&(p=i.chkDup);let C=!1;i&&i.rt!==void 0&&(C=i.rt);let P=l;for(;P&&!P.hasOwnProperty(r);)P=We(P);if(!P&&l[r]&&(P=l),!P||P[f])return!1;let W=i&&i.eventNameToString,N={},j=P[f]=P[r],F=P[V(a)]=P[a],H=P[V(h)]=P[h],te=P[V(d)]=P[d],K;i&&i.prepend&&(K=P[V(i.prepend)]=P[i.prepend]);function U(u,k){return k?typeof u=="boolean"?{capture:u,passive:!0}:u?typeof u=="object"&&u.passive!==!1?{...u,passive:!0}:u:{passive:!0}:u}let I=function(u){if(!N.isExisting)return j.call(N.target,N.eventName,N.capture?E:v,N.options)},o=function(u){if(!u.isRemoved){let k=re[u.eventName],O;k&&(O=k[u.capture?de:Te]);let L=O&&u.target[O];if(L){for(let D=0;D<L.length;D++)if(L[D]===u){L.splice(D,1),u.isRemoved=!0,u.removeAbortListener&&(u.removeAbortListener(),u.removeAbortListener=null),L.length===0&&(u.allRemoved=!0,u.target[O]=null);break}}}if(u.allRemoved)return F.call(u.target,u.eventName,u.capture?E:v,u.options)},c=function(u){return j.call(N.target,N.eventName,u.invoke,N.options)},Z=function(u){return K.call(N.target,N.eventName,u.invoke,N.options)},x=function(u){return F.call(u.target,u.eventName,u.invoke,u.options)},J=T?I:c,B=T?o:x,ye=function(u,k){let O=typeof k;return O==="function"&&u.callback===k||O==="object"&&u.originalDelegate===k},he=i?.diff||ye,fe=Zone[V("UNPATCHED_EVENTS")],se=s[V("PASSIVE_EVENTS")];function S(u){if(typeof u=="object"&&u!==null){let k={...u};return u.signal&&(k.signal=u.signal),k}return u}let g=function(u,k,O,L,D=!1,q=!1){return function(){let z=this||s,G=arguments[0];i&&i.transferEventName&&(G=i.transferEventName(G));let $=arguments[1];if(!$)return u.apply(this,arguments);if(Me&&G==="uncaughtException")return u.apply(this,arguments);let Q=!1;if(typeof $!="function"){if(!$.handleEvent)return u.apply(this,arguments);Q=!0}if(_&&!_(u,$,z,arguments))return;let ge=!!se&&se.indexOf(G)!==-1,ce=S(U(arguments[2],ge)),Ee=ce?.signal;if(Ee?.aborted)return;if(fe){for(let ae=0;ae<fe.length;ae++)if(G===fe[ae])return ge?u.call(z,G,$,ce):u.apply(this,arguments)}let Le=ce?typeof ce=="boolean"?!0:ce.capture:!1,nt=ce&&typeof ce=="object"?ce.once:!1,It=Zone.current,He=re[G];He||(Et(G,W),He=re[G]);let rt=He[Le?de:Te],Se=z[rt],st=!1;if(Se){if(st=!0,p){for(let ae=0;ae<Se.length;ae++)if(he(Se[ae],$))return}}else Se=z[rt]=[];let Re,it=z.constructor.name,ot=yt[it];ot&&(Re=ot[G]),Re||(Re=it+k+(W?W(G):G)),N.options=ce,nt&&(N.options.once=!1),N.target=z,N.capture=Le,N.eventName=G,N.isExisting=st;let Pe=T?Ut:void 0;Pe&&(Pe.taskData=N),Ee&&(N.options.signal=void 0);let ie=It.scheduleEventTask(Re,$,Pe,O,L);if(Ee){N.options.signal=Ee;let ae=()=>ie.zone.cancelTask(ie);u.call(Ee,"abort",ae,{once:!0}),ie.removeAbortListener=()=>Ee.removeEventListener("abort",ae)}if(N.target=null,Pe&&(Pe.taskData=null),nt&&(N.options.once=!0),typeof ie.options!="boolean"&&(ie.options=ce),ie.target=z,ie.capture=Le,ie.eventName=G,Q&&(ie.originalDelegate=$),q?Se.unshift(ie):Se.push(ie),D)return z}};return P[r]=g(j,b,J,B,C),K&&(P[m]=g(K,A,Z,B,C,!0)),P[a]=function(){let u=this||s,k=arguments[0];i&&i.transferEventName&&(k=i.transferEventName(k));let O=arguments[2],L=O?typeof O=="boolean"?!0:O.capture:!1,D=arguments[1];if(!D)return F.apply(this,arguments);if(_&&!_(F,D,u,arguments))return;let q=re[k],z;q&&(z=q[L?de:Te]);let G=z&&u[z];if(G)for(let $=0;$<G.length;$++){let Q=G[$];if(he(Q,D)){if(G.splice($,1),Q.isRemoved=!0,G.length===0&&(Q.allRemoved=!0,u[z]=null,!L&&typeof k=="string")){let ge=Ae+"ON_PROPERTY"+k;u[ge]=null}return Q.zone.cancelTask(Q),C?u:void 0}}return F.apply(this,arguments)},P[h]=function(){let u=this||s,k=arguments[0];i&&i.transferEventName&&(k=i.transferEventName(k));let O=[],L=St(u,W?W(k):k);for(let D=0;D<L.length;D++){let q=L[D],z=q.originalDelegate?q.originalDelegate:q.callback;O.push(z)}return O},P[d]=function(){let u=this||s,k=arguments[0];if(k){i&&i.transferEventName&&(k=i.transferEventName(k));let O=re[k];if(O){let L=O[Te],D=O[de],q=u[L],z=u[D];if(q){let G=q.slice();for(let $=0;$<G.length;$++){let Q=G[$],ge=Q.originalDelegate?Q.originalDelegate:Q.callback;this[a].call(this,k,ge,Q.options)}}if(z){let G=z.slice();for(let $=0;$<G.length;$++){let Q=G[$],ge=Q.originalDelegate?Q.originalDelegate:Q.callback;this[a].call(this,k,ge,Q.options)}}}}else{let O=Object.keys(u);for(let L=0;L<O.length;L++){let D=O[L],q=gt.exec(D),z=q&&q[1];z&&z!=="removeListener"&&this[d].call(this,z)}this[d].call(this,"removeListener")}if(C)return this},_e(P[r],j),_e(P[a],F),te&&_e(P[d],te),H&&_e(P[h],H),!0}let y=[];for(let l=0;l<n.length;l++)y[l]=R(n[l],t);return y}function St(s,e){if(!e){let a=[];for(let h in s){let d=gt.exec(h),f=d&&d[1];if(f&&(!e||f===e)){let b=s[h];if(b)for(let m=0;m<b.length;m++)a.push(b[m])}}return a}let n=re[e];n||(Et(e),n=re[e]);let t=s[n[Te]],r=s[n[de]];return t?r?t.concat(r):t.slice():r?r.slice():[]}function zt(s,e){let n=s.Event;n&&n.prototype&&e.patchMethod(n.prototype,"stopImmediatePropagation",t=>function(r,a){r[kt]=!0,t&&t.apply(r,a)})}function Gt(s,e){e.patchMethod(s,"queueMicrotask",n=>function(t,r){Zone.current.scheduleMicroTask("queueMicrotask",r[0])})}var Ze=V("zoneTask");function be(s,e,n,t){let r=null,a=null;e+=t,n+=t;let h={};function d(b){let m=b.data;m.args[0]=function(){return b.invoke.apply(this,arguments)};let A=r.apply(s,m.args);return ft(A)?m.handleId=A:(m.handle=A,m.isRefreshable=ht(A.refresh)),b}function f(b){let{handle:m,handleId:A}=b.data;return a.call(s,m??A)}r=pe(s,e,b=>function(m,A){if(ht(A[0])){let w={isRefreshable:!1,isPeriodic:t==="Interval",delay:t==="Timeout"||t==="Interval"?A[1]||0:void 0,args:A},M=A[0];A[0]=function(){try{return M.apply(this,arguments)}finally{let{handle:T,handleId:_,isPeriodic:p,isRefreshable:C}=w;!p&&!C&&(_?delete h[_]:T&&(T[Ze]=null))}};let v=Xe(e,A[0],w,d,f);if(!v)return v;let{handleId:E,handle:R,isRefreshable:y,isPeriodic:l}=v.data;if(E)h[E]=v;else if(R&&(R[Ze]=v,y&&!l)){let i=R.refresh;R.refresh=function(){let{zone:T,state:_}=v;return _==="notScheduled"?(v._state="scheduled",T._updateTaskCount(v,1)):_==="running"&&(v._state="scheduling"),i.call(this)}}return R??E??v}else return b.apply(s,A)}),a=pe(s,n,b=>function(m,A){let w=A[0],M;ft(w)?(M=h[w],delete h[w]):(M=w?.[Ze],M?w[Ze]=null:M=w),M?.type?M.cancelFn&&M.zone.cancelTask(M):b.apply(s,A)})}function Bt(s,e){let{isBrowser:n,isMix:t}=e.getGlobalObjects();if(!n&&!t||!s.customElements||!("customElements"in s))return;let r=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];e.patchCallbacks(e,s.customElements,"customElements","define",r)}function Wt(s,e){if(Zone[e.symbol("patchEventTarget")])return;let{eventNames:n,zoneSymbolEventNames:t,TRUE_STR:r,FALSE_STR:a,ZONE_SYMBOL_PREFIX:h}=e.getGlobalObjects();for(let f=0;f<n.length;f++){let b=n[f],m=b+a,A=b+r,w=h+m,M=h+A;t[b]={},t[b][a]=w,t[b][r]=M}let d=s.EventTarget;if(!(!d||!d.prototype))return e.patchEventTarget(s,e,[d&&d.prototype]),!0}function Vt(s,e){e.patchEventPrototype(s,e)}function bt(s,e,n){if(!n||n.length===0)return e;let t=n.filter(a=>a.target===s);if(t.length===0)return e;let r=t[0].ignoreProperties;return e.filter(a=>r.indexOf(a)===-1)}function dt(s,e,n,t){if(!s)return;let r=bt(s,e,n);mt(s,r,t)}function Ge(s){return Object.getOwnPropertyNames(s).filter(e=>e.startsWith("on")&&e.length>2).map(e=>e.substring(2))}function $t(s,e){if(Me&&!_t||Zone[s.symbol("patchEvents")])return;let n=e.__Zone_ignore_on_properties,t=[];if(Je){let r=window;t=t.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);let a=[];dt(r,Ge(r),n&&n.concat(a),We(r))}t=t.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let r=0;r<t.length;r++){let a=e[t[r]];a?.prototype&&dt(a.prototype,Ge(a.prototype),n)}}function Qt(s){s.__load_patch("legacy",e=>{let n=e[s.__symbol__("legacyPatch")];n&&n()}),s.__load_patch("timers",e=>{let t="clear";be(e,"set",t,"Timeout"),be(e,"set",t,"Interval"),be(e,"set",t,"Immediate")}),s.__load_patch("requestAnimationFrame",e=>{be(e,"request","cancel","AnimationFrame"),be(e,"mozRequest","mozCancel","AnimationFrame"),be(e,"webkitRequest","webkitCancel","AnimationFrame")}),s.__load_patch("blocking",(e,n)=>{let t=["alert","prompt","confirm"];for(let r=0;r<t.length;r++){let a=t[r];pe(e,a,(h,d,f)=>function(b,m){return n.current.run(h,e,m,f)})}}),s.__load_patch("EventTarget",(e,n,t)=>{Vt(e,t),Wt(e,t);let r=e.XMLHttpRequestEventTarget;r&&r.prototype&&t.patchEventTarget(e,t,[r.prototype])}),s.__load_patch("MutationObserver",(e,n,t)=>{ve("MutationObserver"),ve("WebKitMutationObserver")}),s.__load_patch("IntersectionObserver",(e,n,t)=>{ve("IntersectionObserver")}),s.__load_patch("FileReader",(e,n,t)=>{ve("FileReader")}),s.__load_patch("on_property",(e,n,t)=>{$t(t,e)}),s.__load_patch("customElements",(e,n,t)=>{Bt(e,t)}),s.__load_patch("XHR",(e,n)=>{b(e);let t=V("xhrTask"),r=V("xhrSync"),a=V("xhrListener"),h=V("xhrScheduled"),d=V("xhrURL"),f=V("xhrErrorBeforeScheduled");function b(m){let A=m.XMLHttpRequest;if(!A)return;let w=A.prototype;function M(j){return j[t]}let v=w[Ue],E=w[qe];if(!v){let j=m.XMLHttpRequestEventTarget;if(j){let F=j.prototype;v=F[Ue],E=F[qe]}}let R="readystatechange",y="scheduled";function l(j){let F=j.data,H=F.target;H[h]=!1,H[f]=!1;let te=H[a];v||(v=H[Ue],E=H[qe]),te&&E.call(H,R,te);let K=H[a]=()=>{if(H.readyState===H.DONE)if(!F.aborted&&H[h]&&j.state===y){let I=H[n.__symbol__("loadfalse")];if(H.status!==0&&I&&I.length>0){let o=j.invoke;j.invoke=function(){let c=H[n.__symbol__("loadfalse")];for(let Z=0;Z<c.length;Z++)c[Z]===j&&c.splice(Z,1);!F.aborted&&j.state===y&&o.call(j)},I.push(j)}else j.invoke()}else!F.aborted&&H[h]===!1&&(H[f]=!0)};return v.call(H,R,K),H[t]||(H[t]=j),W.apply(H,F.args),H[h]=!0,j}function i(){}function T(j){let F=j.data;return F.aborted=!0,N.apply(F.target,F.args)}let _=pe(w,"open",()=>function(j,F){return j[r]=F[2]==!1,j[d]=F[1],_.apply(j,F)}),p="XMLHttpRequest.send",C=V("fetchTaskAborting"),P=V("fetchTaskScheduling"),W=pe(w,"send",()=>function(j,F){if(n.current[P]===!0||j[r])return W.apply(j,F);{let H={target:j,url:j[d],isPeriodic:!1,args:F,aborted:!1},te=Xe(p,i,H,l,T);j&&j[f]===!0&&!H.aborted&&te.state===y&&te.invoke()}}),N=pe(w,"abort",()=>function(j,F){let H=M(j);if(H&&typeof H.type=="string"){if(H.cancelFn==null||H.data&&H.data.aborted)return;H.zone.cancelTask(H)}else if(n.current[C]===!0)return N.apply(j,F)})}}),s.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&Nt(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),s.__load_patch("PromiseRejectionEvent",(e,n)=>{function t(r){return function(a){St(e,r).forEach(d=>{let f=e.PromiseRejectionEvent;if(f){let b=new f(r,{promise:a.promise,reason:a.rejection});d.invoke(b)}})}}e.PromiseRejectionEvent&&(n[V("unhandledPromiseRejectionHandler")]=t("unhandledrejection"),n[V("rejectionHandledHandler")]=t("rejectionhandled"))}),s.__load_patch("queueMicrotask",(e,n,t)=>{Gt(e,t)})}function Xt(s){s.__load_patch("ZoneAwarePromise",(e,n,t)=>{let r=Object.getOwnPropertyDescriptor,a=Object.defineProperty;function h(S){if(S&&S.toString===Object.prototype.toString){let g=S.constructor&&S.constructor.name;return(g||"")+": "+JSON.stringify(S)}return S?S.toString():Object.prototype.toString.call(S)}let d=t.symbol,f=[],b=e[d("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,m=d("Promise"),A=d("then"),w="__creationTrace__";t.onUnhandledError=S=>{if(t.showUncaughtError()){let g=S&&S.rejection;g?console.error("Unhandled Promise rejection:",g instanceof Error?g.message:g,"; Zone:",S.zone.name,"; Task:",S.task&&S.task.source,"; Value:",g,g instanceof Error?g.stack:void 0):console.error(S)}},t.microtaskDrainDone=()=>{for(;f.length;){let S=f.shift();try{S.zone.runGuarded(()=>{throw S.throwOriginal?S.rejection:S})}catch(g){v(g)}}};let M=d("unhandledPromiseRejectionHandler");function v(S){t.onUnhandledError(S);try{let g=n[M];typeof g=="function"&&g.call(this,S)}catch{}}function E(S){return S&&typeof S.then=="function"}function R(S){return S}function y(S){return B.reject(S)}let l=d("state"),i=d("value"),T=d("finally"),_=d("parentPromiseValue"),p=d("parentPromiseState"),C="Promise.then",P=null,W=!0,N=!1,j=0;function F(S,g){return u=>{try{U(S,g,u)}catch(k){U(S,!1,k)}}}let H=function(){let S=!1;return function(u){return function(){S||(S=!0,u.apply(null,arguments))}}},te="Promise resolved with itself",K=d("currentTaskTrace");function U(S,g,u){let k=H();if(S===u)throw new TypeError(te);if(S[l]===P){let O=null;try{(typeof u=="object"||typeof u=="function")&&(O=u&&u.then)}catch(L){return k(()=>{U(S,!1,L)})(),S}if(g!==N&&u instanceof B&&u.hasOwnProperty(l)&&u.hasOwnProperty(i)&&u[l]!==P)o(u),U(S,u[l],u[i]);else if(g!==N&&typeof O=="function")try{O.call(u,k(F(S,g)),k(F(S,!1)))}catch(L){k(()=>{U(S,!1,L)})()}else{S[l]=g;let L=S[i];if(S[i]=u,S[T]===T&&g===W&&(S[l]=S[p],S[i]=S[_]),g===N&&u instanceof Error){let D=n.currentTask&&n.currentTask.data&&n.currentTask.data[w];D&&a(u,K,{configurable:!0,enumerable:!1,writable:!0,value:D})}for(let D=0;D<L.length;)c(S,L[D++],L[D++],L[D++],L[D++]);if(L.length==0&&g==N){S[l]=j;let D=u;try{throw new Error("Uncaught (in promise): "+h(u)+(u&&u.stack?`
`+u.stack:""))}catch(q){D=q}b&&(D.throwOriginal=!0),D.rejection=u,D.promise=S,D.zone=n.current,D.task=n.currentTask,f.push(D),t.scheduleMicroTask()}}}return S}let I=d("rejectionHandledHandler");function o(S){if(S[l]===j){try{let g=n[I];g&&typeof g=="function"&&g.call(this,{rejection:S[i],promise:S})}catch{}S[l]=N;for(let g=0;g<f.length;g++)S===f[g].promise&&f.splice(g,1)}}function c(S,g,u,k,O){o(S);let L=S[l],D=L?typeof k=="function"?k:R:typeof O=="function"?O:y;g.scheduleMicroTask(C,()=>{try{let q=S[i],z=!!u&&T===u[T];z&&(u[_]=q,u[p]=L);let G=g.run(D,void 0,z&&D!==y&&D!==R?[]:[q]);U(u,!0,G)}catch(q){U(u,!1,q)}},u)}let Z="function ZoneAwarePromise() { [native code] }",x=function(){},J=e.AggregateError;class B{static toString(){return Z}static resolve(g){return g instanceof B?g:U(new this(null),W,g)}static reject(g){return U(new this(null),N,g)}static withResolvers(){let g={};return g.promise=new B((u,k)=>{g.resolve=u,g.reject=k}),g}static any(g){if(!g||typeof g[Symbol.iterator]!="function")return Promise.reject(new J([],"All promises were rejected"));let u=[],k=0;try{for(let D of g)k++,u.push(B.resolve(D))}catch{return Promise.reject(new J([],"All promises were rejected"))}if(k===0)return Promise.reject(new J([],"All promises were rejected"));let O=!1,L=[];return new B((D,q)=>{for(let z=0;z<u.length;z++)u[z].then(G=>{O||(O=!0,D(G))},G=>{L.push(G),k--,k===0&&(O=!0,q(new J(L,"All promises were rejected")))})})}static race(g){let u,k,O=new this((q,z)=>{u=q,k=z});function L(q){u(q)}function D(q){k(q)}for(let q of g)E(q)||(q=this.resolve(q)),q.then(L,D);return O}static all(g){return B.allWithCallback(g)}static allSettled(g){return(this&&this.prototype instanceof B?this:B).allWithCallback(g,{thenCallback:k=>({status:"fulfilled",value:k}),errorCallback:k=>({status:"rejected",reason:k})})}static allWithCallback(g,u){let k,O,L=new this((G,$)=>{k=G,O=$}),D=2,q=0,z=[];for(let G of g){E(G)||(G=this.resolve(G));let $=q;try{G.then(Q=>{z[$]=u?u.thenCallback(Q):Q,D--,D===0&&k(z)},Q=>{u?(z[$]=u.errorCallback(Q),D--,D===0&&k(z)):O(Q)})}catch(Q){O(Q)}D++,q++}return D-=2,D===0&&k(z),L}constructor(g){let u=this;if(!(u instanceof B))throw new Error("Must be an instanceof Promise.");u[l]=P,u[i]=[];try{let k=H();g&&g(k(F(u,W)),k(F(u,N)))}catch(k){U(u,!1,k)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return B}then(g,u){let k=this.constructor?.[Symbol.species];(!k||typeof k!="function")&&(k=this.constructor||B);let O=new k(x),L=n.current;return this[l]==P?this[i].push(L,O,g,u):c(this,L,O,g,u),O}catch(g){return this.then(null,g)}finally(g){let u=this.constructor?.[Symbol.species];(!u||typeof u!="function")&&(u=B);let k=new u(x);k[T]=T;let O=n.current;return this[l]==P?this[i].push(O,k,g,g):c(this,O,k,g,g),k}}B.resolve=B.resolve,B.reject=B.reject,B.race=B.race,B.all=B.all;let ye=e[m]=e.Promise;e.Promise=B;let he=d("thenPatched");function fe(S){let g=S.prototype,u=r(g,"then");if(u&&(u.writable===!1||!u.configurable))return;let k=g.then;g[A]=k,S.prototype.then=function(O,L){return new B((q,z)=>{k.call(this,q,z)}).then(O,L)},S[he]=!0}t.patchThen=fe;function se(S){return function(g,u){let k=S.apply(g,u);if(k instanceof B)return k;let O=k.constructor;return O[he]||fe(O),k}}return ye&&(fe(ye),pe(e,"fetch",S=>se(S))),Promise[n.__symbol__("uncaughtPromiseErrors")]=f,B})}function Kt(s){s.__load_patch("toString",e=>{let n=Function.prototype.toString,t=V("OriginalDelegate"),r=V("Promise"),a=V("Error"),h=function(){if(typeof this=="function"){let m=this[t];if(m)return typeof m=="function"?n.call(m):Object.prototype.toString.call(m);if(this===Promise){let A=e[r];if(A)return n.call(A)}if(this===Error){let A=e[a];if(A)return n.call(A)}}return n.call(this)};h[t]=n,Function.prototype.toString=h;let d=Object.prototype.toString,f="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?f:d.call(this)}})}function Jt(s,e,n,t,r){let a=Zone.__symbol__(t);if(e[a])return;let h=e[a]=e[t];e[t]=function(d,f,b){return f&&f.prototype&&r.forEach(function(m){let A=`${n}.${t}::`+m,w=f.prototype;try{if(w.hasOwnProperty(m)){let M=s.ObjectGetOwnPropertyDescriptor(w,m);M&&M.value?(M.value=s.wrapWithCurrentZone(M.value,A),s._redefineProperty(f.prototype,m,M)):w[m]&&(w[m]=s.wrapWithCurrentZone(w[m],A))}else w[m]&&(w[m]=s.wrapWithCurrentZone(w[m],A))}catch{}}),h.call(e,d,f,b)},s.attachOriginToPatched(e[t],h)}function Yt(s){s.__load_patch("util",(e,n,t)=>{let r=Ge(e);t.patchOnProperties=mt,t.patchMethod=pe,t.bindArguments=Ke,t.patchMacroTask=Lt;let a=n.__symbol__("BLACK_LISTED_EVENTS"),h=n.__symbol__("UNPATCHED_EVENTS");e[h]&&(e[a]=e[h]),e[a]&&(n[a]=n[h]=e[a]),t.patchEventPrototype=zt,t.patchEventTarget=qt,t.isIEOrEdge=Ht,t.ObjectDefineProperty=Be,t.ObjectGetOwnPropertyDescriptor=we,t.ObjectCreate=Ft,t.ArraySlice=Mt,t.patchClass=ve,t.wrapWithCurrentZone=Qe,t.filterProperties=bt,t.attachOriginToPatched=_e,t._redefineProperty=Object.defineProperty,t.patchCallbacks=Jt,t.getGlobalObjects=()=>({globalSources:yt,zoneSymbolEventNames:re,eventNames:r,isBrowser:Je,isMix:_t,isNode:Me,TRUE_STR:de,FALSE_STR:Te,ZONE_SYMBOL_PREFIX:Ae,ADD_EVENT_LISTENER_STR:Ve,REMOVE_EVENT_LISTENER_STR:$e})})}function en(s){Xt(s),Kt(s),Yt(s)}var Pt=Ot();en(Pt);Qt(Pt);function tn(s){s.__load_patch("jasmine",(e,n,t)=>{let r=function(y,l){for(let T in l)l.hasOwnProperty(T)&&(y[T]=l[T]);function i(){this.constructor=y}y.prototype=l===null?Object.create(l):(i.prototype=l.prototype,new i)};if(!n)throw new Error("Missing: zone.js");if(typeof jest<"u"||typeof jasmine>"u"||jasmine.__zone_patch__)return;jasmine.__zone_patch__=!0;let a=n.SyncTestZoneSpec,h=n.ProxyZoneSpec;if(!a)throw new Error("Missing: SyncTestZoneSpec");if(!h)throw new Error("Missing: ProxyZoneSpec");let d=n.current,f=n.__symbol__,b=e[f("fakeAsyncDisablePatchingClock")]===!0,m=!b&&(e[f("fakeAsyncPatchLock")]===!0||e[f("fakeAsyncAutoFakeAsyncWhenClockPatched")]===!0);if(!(e[f("ignoreUnhandledRejection")]===!0)){let y=jasmine.GlobalErrors;y&&!jasmine[f("GlobalErrors")]&&(jasmine[f("GlobalErrors")]=y,jasmine.GlobalErrors=function(){let l=new y,i=l.install;return i&&!l[f("install")]&&(l[f("install")]=i,l.install=function(){let T=typeof process<"u"&&!!process.on,_=T?process.listeners("unhandledRejection"):e.eventListeners("unhandledrejection"),p=i.apply(this,arguments);return T?process.removeAllListeners("unhandledRejection"):e.removeAllListeners("unhandledrejection"),_&&_.forEach(C=>{T?process.on("unhandledRejection",C):e.addEventListener("unhandledrejection",C)}),p}),l})}let w=jasmine.getEnv();if(["describe","xdescribe","fdescribe"].forEach(y=>{let l=w[y];w[y]=function(i,T){return l.call(this,i,M(i,T))}}),["it","xit","fit"].forEach(y=>{let l=w[y];w[f(y)]=l,w[y]=function(i,T,_){return arguments[1]=E(T),l.apply(this,arguments)}}),["beforeEach","afterEach","beforeAll","afterAll"].forEach(y=>{let l=w[y];w[f(y)]=l,w[y]=function(i,T){return arguments[0]=E(i),l.apply(this,arguments)}}),!b){let y=jasmine[f("clock")]=jasmine.clock;jasmine.clock=function(){let l=y.apply(this,arguments);if(!l[f("patched")]){l[f("patched")]=f("patched");let i=l[f("tick")]=l.tick;l.tick=function(){let _=n.current.get("FakeAsyncTestZoneSpec");return _?_.tick.apply(_,arguments):i.apply(this,arguments)};let T=l[f("mockDate")]=l.mockDate;l.mockDate=function(){let _=n.current.get("FakeAsyncTestZoneSpec");if(_){let p=arguments.length>0?arguments[0]:new Date;return _.setFakeBaseSystemTime.apply(_,p&&typeof p.getTime=="function"?[p.getTime()]:arguments)}return T.apply(this,arguments)},m&&["install","uninstall"].forEach(_=>{let p=l[f(_)]=l[_];l[_]=function(){if(n.FakeAsyncTestZoneSpec){jasmine[f("clockInstalled")]=_==="install";return}return p.apply(this,arguments)}})}return l}}if(!jasmine[n.__symbol__("createSpyObj")]){let y=jasmine.createSpyObj;jasmine[n.__symbol__("createSpyObj")]=y,jasmine.createSpyObj=function(){let l=Array.prototype.slice.call(arguments),i=l.length>=3?l[2]:null,T;if(i){let _=Object.defineProperty;Object.defineProperty=function(p,C,P){return _.call(this,p,C,{...P,configurable:!0,enumerable:!0})};try{T=y.apply(this,l)}finally{Object.defineProperty=_}}else T=y.apply(this,l);return T}}function M(y,l){return function(){return d.fork(new a(`jasmine.describe#${y}`)).run(l,this,arguments)}}function v(y,l,i,T){let _=!!jasmine[f("clockInstalled")];i.testProxyZoneSpec;let p=i.testProxyZone;if(_&&m){let C=n[n.__symbol__("fakeAsyncTest")];C&&typeof C.fakeAsync=="function"&&(y=C.fakeAsync(y))}return T?p.run(y,l,[T]):p.run(y,l)}function E(y){return y&&(y.length?function(l){return v(y,this,this.queueRunner,l)}:function(){return v(y,this,this.queueRunner)})}let R=jasmine.QueueRunner;jasmine.QueueRunner=(function(y){r(l,y);function l(i){i.onComplete&&(i.onComplete=(C=>()=>{this.testProxyZone=null,this.testProxyZoneSpec=null,d.scheduleMicroTask("jasmine.onComplete",C)})(i.onComplete));let T=e[n.__symbol__("setTimeout")],_=e[n.__symbol__("clearTimeout")];T&&(i.timeout={setTimeout:T||e.setTimeout,clearTimeout:_||e.clearTimeout}),jasmine.UserContext?(i.userContext||(i.userContext=new jasmine.UserContext),i.userContext.queueRunner=this):(i.userContext||(i.userContext={}),i.userContext.queueRunner=this);let p=i.onException;i.onException=function(C){if(C&&C.message==="Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL."){let P=this&&this.testProxyZoneSpec;if(P){let W=P.getAndClearPendingTasksInfo();try{C.message+=W}catch{}}}p&&p.call(this,C)},y.call(this,i)}return l.prototype.execute=function(){let i=n.current,T=!1;for(;i;){if(i===d){T=!0;break}i=i.parent}if(!T)throw new Error("Unexpected Zone: "+n.current.name);this.testProxyZoneSpec=new h,this.testProxyZone=d.fork(this.testProxyZoneSpec),n.currentTask?y.prototype.execute.call(this):n.current.scheduleMicroTask("jasmine.execute().forceTask",()=>R.prototype.execute.call(this))},l})(R)})}function nn(s){s.__load_patch("jest",(e,n,t)=>{if(typeof jest>"u"||jest.__zone_patch__)return;n[t.symbol("ignoreConsoleErrorUncaughtError")]=!0,jest.__zone_patch__=!0;let r=n.ProxyZoneSpec,a=n.SyncTestZoneSpec;if(!r)throw new Error("Missing ProxyZoneSpec");let h=n.current,d=h.fork(new a("jest.describe")),f=new r,b=h.fork(f);function m(v){return function(...E){let R=v.apply(this,E);return function(...y){return y[1]=w(y[1]),R.apply(this,y)}}}function A(v){return function(...E){return function(...R){return R[1]=M(R[1]),v.apply(this,E).apply(this,R)}}}function w(v){return function(...E){return d.run(v,this,E)}}function M(v,E=!1){if(typeof v!="function")return v;let R=function(){if(n[t.symbol("useFakeTimersCalled")]===!0&&v&&!v.isFakeAsync){let y=n[n.__symbol__("fakeAsyncTest")];y&&typeof y.fakeAsync=="function"&&(v=y.fakeAsync(v))}return f.isTestFunc=E,b.run(v,null,arguments)};return Object.defineProperty(R,"length",{configurable:!0,writable:!0,enumerable:!1}),R.length=v.length,R}["describe","xdescribe","fdescribe"].forEach(v=>{let E=e[v];e[n.__symbol__(v)]||(e[n.__symbol__(v)]=E,e[v]=function(...R){return R[1]=w(R[1]),E.apply(this,R)},e[v].each=m(E.each))}),e.describe.only=e.fdescribe,e.describe.skip=e.xdescribe,["it","xit","fit","test","xtest"].forEach(v=>{let E=e[v];e[n.__symbol__(v)]||(e[n.__symbol__(v)]=E,e[v]=function(...R){return R[1]=M(R[1],!0),E.apply(this,R)},e[v].each=A(E.each),e[v].todo=E.todo,e[v].failing=E.failing)}),e.it.only=e.fit,e.it.skip=e.xit,e.test.only=e.fit,e.test.skip=e.xit,["beforeEach","afterEach","beforeAll","afterAll"].forEach(v=>{let E=e[v];e[n.__symbol__(v)]||(e[n.__symbol__(v)]=E,e[v]=function(...R){return R[0]=M(R[0]),E.apply(this,R)})}),n.patchJestObject=function(E,R=!1){function y(){return!!n.current.get("FakeAsyncTestZoneSpec")}function l(){let i=n.current.get("ProxyZoneSpec");return i&&i.isTestFunc}E[t.symbol("fakeTimers")]||(E[t.symbol("fakeTimers")]=!0,t.patchMethod(E,"_checkFakeTimers",i=>function(T,_){return y()?!0:i.apply(T,_)}),t.patchMethod(E,"useFakeTimers",i=>function(T,_){return n[t.symbol("useFakeTimersCalled")]=!0,R||l()?i.apply(T,_):T}),t.patchMethod(E,"useRealTimers",i=>function(T,_){return n[t.symbol("useFakeTimersCalled")]=!1,R||l()?i.apply(T,_):T}),t.patchMethod(E,"setSystemTime",i=>function(T,_){let p=n.current.get("FakeAsyncTestZoneSpec");if(p&&y())p.setFakeBaseSystemTime(_[0]);else return i.apply(T,_)}),t.patchMethod(E,"getRealSystemTime",i=>function(T,_){let p=n.current.get("FakeAsyncTestZoneSpec");return p&&y()?p.getRealSystemTime():i.apply(T,_)}),t.patchMethod(E,"runAllTicks",i=>function(T,_){let p=n.current.get("FakeAsyncTestZoneSpec");if(p)p.flushMicrotasks();else return i.apply(T,_)}),t.patchMethod(E,"runAllTimers",i=>function(T,_){let p=n.current.get("FakeAsyncTestZoneSpec");if(p)p.flush(100,!0);else return i.apply(T,_)}),t.patchMethod(E,"advanceTimersByTime",i=>function(T,_){let p=n.current.get("FakeAsyncTestZoneSpec");if(p)p.tick(_[0]);else return i.apply(T,_)}),t.patchMethod(E,"runOnlyPendingTimers",i=>function(T,_){let p=n.current.get("FakeAsyncTestZoneSpec");if(p)p.flushOnlyPendingTimers();else return i.apply(T,_)}),t.patchMethod(E,"advanceTimersToNextTimer",i=>function(T,_){let p=n.current.get("FakeAsyncTestZoneSpec");if(p)p.tickToNext(_[0]);else return i.apply(T,_)}),t.patchMethod(E,"clearAllTimers",i=>function(T,_){let p=n.current.get("FakeAsyncTestZoneSpec");if(p)p.removeAllTimers();else return i.apply(T,_)}),t.patchMethod(E,"getTimerCount",i=>function(T,_){let p=n.current.get("FakeAsyncTestZoneSpec");return p?p.getTimerCount():i.apply(T,_)}))}})}function rn(s){s.__load_patch("mocha",(e,n)=>{let t=e.Mocha;if(typeof t>"u")return;if(typeof n>"u")throw new Error("Missing Zone.js");let r=n.ProxyZoneSpec,a=n.SyncTestZoneSpec;if(!r)throw new Error("Missing ProxyZoneSpec");if(t.__zone_patch__)throw new Error('"Mocha" has already been patched with "Zone".');t.__zone_patch__=!0;let h=n.current,d=h.fork(new a("Mocha.describe")),f=null,b=h.fork(new r),m={after:e.after,afterEach:e.afterEach,before:e.before,beforeEach:e.beforeEach,describe:e.describe,it:e.it};function A(E,R,y){for(let l=0;l<E.length;l++){let i=E[l];typeof i=="function"&&(E[l]=i.length===0?R(i):y(i),E[l].toString=function(){return i.toString()})}return E}function w(E){return A(E,function(y){return function(){return d.run(y,this,arguments)}})}function M(E){return A(E,function(l){return function(){return f.run(l,this)}},function(l){return function(i){return f.run(l,this,[i])}})}function v(E){return A(E,function(l){return function(){return b.run(l,this)}},function(l){return function(i){return b.run(l,this,[i])}})}e.describe=e.suite=function(){return m.describe.apply(this,w(arguments))},e.xdescribe=e.suite.skip=e.describe.skip=function(){return m.describe.skip.apply(this,w(arguments))},e.describe.only=e.suite.only=function(){return m.describe.only.apply(this,w(arguments))},e.it=e.specify=e.test=function(){return m.it.apply(this,M(arguments))},e.xit=e.xspecify=e.it.skip=function(){return m.it.skip.apply(this,M(arguments))},e.it.only=e.test.only=function(){return m.it.only.apply(this,M(arguments))},e.after=e.suiteTeardown=function(){return m.after.apply(this,v(arguments))},e.afterEach=e.teardown=function(){return m.afterEach.apply(this,M(arguments))},e.before=e.suiteSetup=function(){return m.before.apply(this,v(arguments))},e.beforeEach=e.setup=function(){return m.beforeEach.apply(this,M(arguments))},((E,R)=>{t.Runner.prototype.runTest=function(y){n.current.scheduleMicroTask("mocha.forceTask",()=>{E.call(this,y)})},t.Runner.prototype.run=function(y){return this.on("test",l=>{f=h.fork(new r)}),this.on("fail",(l,i)=>{let T=f&&f.get("ProxyZoneSpec");if(T&&i)try{i.message+=T.getAndClearPendingTasksInfo()}catch{}}),R.call(this,y)}})(t.Runner.prototype.runTest,t.Runner.prototype.run)})}var sn=globalThis;function vt(s){return(sn.__Zone_symbol_prefix||"__zone_symbol__")+s}var on=typeof window<"u"&&window||typeof self<"u"&&self||global,Ye=class s{finishCallback;failCallback;static get symbolParentUnresolved(){return vt("parentUnresolved")}_pendingMicroTasks=!1;_pendingMacroTasks=!1;_alreadyErrored=!1;_isSync=!1;_existingFinishTimer=null;entryFunction=null;runZone=Zone.current;unresolvedChainedPromiseCount=0;supportWaitUnresolvedChainedPromise=!1;constructor(e,n,t){this.finishCallback=e,this.failCallback=n,this.name="asyncTestZone for "+t,this.properties={AsyncTestZoneSpec:this},this.supportWaitUnresolvedChainedPromise=on[vt("supportWaitUnResolvedChainedPromise")]===!0}isUnresolvedChainedPromisePending(){return this.unresolvedChainedPromiseCount>0}_finishCallbackIfDone(){this._existingFinishTimer!==null&&(clearTimeout(this._existingFinishTimer),this._existingFinishTimer=null),this._pendingMicroTasks||this._pendingMacroTasks||this.supportWaitUnresolvedChainedPromise&&this.isUnresolvedChainedPromisePending()||this.runZone.run(()=>{this._existingFinishTimer=setTimeout(()=>{!this._alreadyErrored&&!(this._pendingMicroTasks||this._pendingMacroTasks)&&this.finishCallback()},0)})}patchPromiseForTest(){if(!this.supportWaitUnresolvedChainedPromise)return;let e=Promise[Zone.__symbol__("patchPromiseForTest")];e&&e()}unPatchPromiseForTest(){if(!this.supportWaitUnresolvedChainedPromise)return;let e=Promise[Zone.__symbol__("unPatchPromiseForTest")];e&&e()}name;properties;onScheduleTask(e,n,t,r){return r.type!=="eventTask"&&(this._isSync=!1),r.type==="microTask"&&r.data&&r.data instanceof Promise&&r.data[s.symbolParentUnresolved]===!0&&this.unresolvedChainedPromiseCount--,e.scheduleTask(t,r)}onInvokeTask(e,n,t,r,a,h){return r.type!=="eventTask"&&(this._isSync=!1),e.invokeTask(t,r,a,h)}onCancelTask(e,n,t,r){return r.type!=="eventTask"&&(this._isSync=!1),e.cancelTask(t,r)}onInvoke(e,n,t,r,a,h,d){this.entryFunction||(this.entryFunction=r);try{return this._isSync=!0,e.invoke(t,r,a,h,d)}finally{this._isSync&&this.entryFunction===r&&this._finishCallbackIfDone()}}onHandleError(e,n,t,r){return e.handleError(t,r)&&(this.failCallback(r),this._alreadyErrored=!0),!1}onHasTask(e,n,t,r){e.hasTask(t,r),n===t&&(r.change=="microTask"?(this._pendingMicroTasks=r.microTask,this._finishCallbackIfDone()):r.change=="macroTask"&&(this._pendingMacroTasks=r.macroTask,this._finishCallbackIfDone()))}};function cn(s){s.AsyncTestZoneSpec=Ye,s.__load_patch("asynctest",(e,n,t)=>{n[t.symbol("asyncTest")]=function(h){return e.jasmine?function(d){d||(d=function(){},d.fail=function(f){throw f}),r(h,this,d,f=>{if(typeof f=="string")return d.fail(new Error(f));d.fail(f)})}:function(){return new Promise((d,f)=>{r(h,this,d,f)})}};function r(a,h,d,f){let b=n.current,m=n.AsyncTestZoneSpec;if(m===void 0)throw new Error("AsyncTestZoneSpec is needed for the async() test helper but could not be found. Please make sure that your environment includes zone.js/plugins/async-test");let A=n.ProxyZoneSpec;if(!A)throw new Error("ProxyZoneSpec is needed for the async() test helper but could not be found. Please make sure that your environment includes zone.js/plugins/proxy");let w=A.get();A.assertPresent();let M=n.current.getZoneWith("ProxyZoneSpec"),v=w.getDelegate();return M.parent.run(()=>{let E=new m(()=>{w.getDelegate()==E&&w.setDelegate(v),E.unPatchPromiseForTest(),b.run(()=>{d()})},R=>{w.getDelegate()==E&&w.setDelegate(v),E.unPatchPromiseForTest(),b.run(()=>{f(R)})},"test");w.setDelegate(E),E.patchPromiseForTest()}),n.current.runGuarded(a,h)}})}var X=typeof window=="object"&&window||typeof self=="object"&&self||globalThis.global,me=X.Date;function ke(){if(arguments.length===0){let s=new me;return s.setTime(ke.now()),s}else{let s=Array.prototype.slice.call(arguments);return new me(...s)}}ke.now=function(){let s=Zone.current.get("FakeAsyncTestZoneSpec");return s?s.getFakeSystemTime():me.now.apply(this,arguments)};ke.UTC=me.UTC;ke.parse=me.parse;var le,an=function(){},Ie=(()=>{class s{static nextNodeJSId=1;static nextId=-1;_schedulerQueue=[];_currentTickTime=0;_currentFakeBaseSystemTime=me.now();_currentTickRequeuePeriodicEntries=[];constructor(){}static getNextId(){let n=le.nativeSetTimeout.call(X,an,0);return le.nativeClearTimeout.call(X,n),typeof n=="number"?n:s.nextNodeJSId++}getCurrentTickTime(){return this._currentTickTime}getFakeSystemTime(){return this._currentFakeBaseSystemTime+this._currentTickTime}setFakeBaseSystemTime(n){this._currentFakeBaseSystemTime=n}getRealSystemTime(){return me.now()}scheduleFunction(n,t,r){r={args:[],isPeriodic:!1,isRequestAnimationFrame:!1,id:-1,isRequeuePeriodic:!1,...r};let a=r.id<0?s.nextId:r.id;s.nextId=s.getNextId();let d={endTime:this._currentTickTime+t,id:a,func:n,args:r.args,delay:t,isPeriodic:r.isPeriodic,isRequestAnimationFrame:r.isRequestAnimationFrame};r.isRequeuePeriodic&&this._currentTickRequeuePeriodicEntries.push(d);let f=0;for(;f<this._schedulerQueue.length;f++){let b=this._schedulerQueue[f];if(d.endTime<b.endTime)break}return this._schedulerQueue.splice(f,0,d),a}removeScheduledFunctionWithId(n){for(let t=0;t<this._schedulerQueue.length;t++)if(this._schedulerQueue[t].id==n){this._schedulerQueue.splice(t,1);break}}removeAll(){this._schedulerQueue=[]}getTimerCount(){return this._schedulerQueue.length}tickToNext(n=1,t,r){if(this._schedulerQueue.length<n)return;let a=this._currentTickTime,h=this._schedulerQueue[n-1];this.tick(h.endTime-a,t,r)}tick(n=0,t,r){let a=this._currentTickTime+n,h=0;r=Object.assign({processNewMacroTasksSynchronously:!0},r);let d=r.processNewMacroTasksSynchronously?this._schedulerQueue:this._schedulerQueue.slice();if(d.length===0&&t){t(n);return}for(;d.length>0;){this._currentTickRequeuePeriodicEntries=[];let f=d[0];if(a<f.endTime)break;{let b=d.shift();if(!r.processNewMacroTasksSynchronously){let A=this._schedulerQueue.indexOf(b);A>=0&&this._schedulerQueue.splice(A,1)}if(h=this._currentTickTime,this._currentTickTime=b.endTime,t&&t(this._currentTickTime-h),!b.func.apply(X,b.isRequestAnimationFrame?[this._currentTickTime]:b.args))break;r.processNewMacroTasksSynchronously||this._currentTickRequeuePeriodicEntries.forEach(A=>{let w=0;for(;w<d.length;w++){let M=d[w];if(A.endTime<M.endTime)break}d.splice(w,0,A)})}}h=this._currentTickTime,this._currentTickTime=a,t&&t(this._currentTickTime-h)}flushOnlyPendingTimers(n){if(this._schedulerQueue.length===0)return 0;let t=this._currentTickTime,r=this._schedulerQueue[this._schedulerQueue.length-1];return this.tick(r.endTime-t,n,{processNewMacroTasksSynchronously:!1}),this._currentTickTime-t}flush(n=20,t=!1,r){return t?this.flushPeriodic(r):this.flushNonPeriodic(n,r)}flushPeriodic(n){if(this._schedulerQueue.length===0)return 0;let t=this._currentTickTime,r=this._schedulerQueue[this._schedulerQueue.length-1];return this.tick(r.endTime-t,n),this._currentTickTime-t}flushNonPeriodic(n,t){let r=this._currentTickTime,a=0,h=0;for(;this._schedulerQueue.length>0;){if(h++,h>n)throw new Error("flush failed after reaching the limit of "+n+" tasks. Does your code use a polling timeout?");if(this._schedulerQueue.filter(b=>!b.isPeriodic&&!b.isRequestAnimationFrame).length===0)break;let d=this._schedulerQueue.shift();if(a=this._currentTickTime,this._currentTickTime=d.endTime,t&&t(this._currentTickTime-a),!d.func.apply(X,d.args))break}return this._currentTickTime-r}}return s})(),et=class s{trackPendingRequestAnimationFrame;macroTaskOptions;static assertInZone(){if(Zone.current.get("FakeAsyncTestZoneSpec")==null)throw new Error("The code should be running in the fakeAsync zone to call this function")}_scheduler=new Ie;_microtasks=[];_lastError=null;_uncaughtPromiseErrors=Promise[Zone.__symbol__("uncaughtPromiseErrors")];pendingPeriodicTimers=[];pendingTimers=[];patchDateLocked=!1;constructor(e,n=!1,t){this.trackPendingRequestAnimationFrame=n,this.macroTaskOptions=t,this.name="fakeAsyncTestZone for "+e,this.macroTaskOptions||(this.macroTaskOptions=X[Zone.__symbol__("FakeAsyncTestMacroTask")])}_fnAndFlush(e,n){return(...t)=>(e.apply(X,t),this._lastError===null?(n.onSuccess!=null&&n.onSuccess.apply(X),this.flushMicrotasks()):n.onError!=null&&n.onError.apply(X),this._lastError===null)}static _removeTimer(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}_dequeueTimer(e){return()=>{s._removeTimer(this.pendingTimers,e)}}_requeuePeriodicTimer(e,n,t,r){return()=>{this.pendingPeriodicTimers.indexOf(r)!==-1&&this._scheduler.scheduleFunction(e,n,{args:t,isPeriodic:!0,id:r,isRequeuePeriodic:!0})}}_dequeuePeriodicTimer(e){return()=>{s._removeTimer(this.pendingPeriodicTimers,e)}}_setTimeout(e,n,t,r=!0){let a=this._dequeueTimer(Ie.nextId),h=this._fnAndFlush(e,{onSuccess:a,onError:a}),d=this._scheduler.scheduleFunction(h,n,{args:t,isRequestAnimationFrame:!r});return r&&this.pendingTimers.push(d),d}_clearTimeout(e){s._removeTimer(this.pendingTimers,e),this._scheduler.removeScheduledFunctionWithId(e)}_setInterval(e,n,t){let r=Ie.nextId,a={onSuccess:null,onError:this._dequeuePeriodicTimer(r)},h=this._fnAndFlush(e,a);return a.onSuccess=this._requeuePeriodicTimer(h,n,t,r),this._scheduler.scheduleFunction(h,n,{args:t,isPeriodic:!0}),this.pendingPeriodicTimers.push(r),r}_clearInterval(e){s._removeTimer(this.pendingPeriodicTimers,e),this._scheduler.removeScheduledFunctionWithId(e)}_resetLastErrorAndThrow(){let e=this._lastError||this._uncaughtPromiseErrors[0];throw this._uncaughtPromiseErrors.length=0,this._lastError=null,e}getCurrentTickTime(){return this._scheduler.getCurrentTickTime()}getFakeSystemTime(){return this._scheduler.getFakeSystemTime()}setFakeBaseSystemTime(e){this._scheduler.setFakeBaseSystemTime(e)}getRealSystemTime(){return this._scheduler.getRealSystemTime()}static patchDate(){X[Zone.__symbol__("disableDatePatching")]||X.Date!==ke&&(X.Date=ke,ke.prototype=me.prototype,s.checkTimerPatch())}static resetDate(){X.Date===ke&&(X.Date=me)}static checkTimerPatch(){if(!le)throw new Error("Expected timers to have been patched.");X.setTimeout!==le.setTimeout&&(X.setTimeout=le.setTimeout,X.clearTimeout=le.clearTimeout),X.setInterval!==le.setInterval&&(X.setInterval=le.setInterval,X.clearInterval=le.clearInterval)}lockDatePatch(){this.patchDateLocked=!0,s.patchDate()}unlockDatePatch(){this.patchDateLocked=!1,s.resetDate()}tickToNext(e=1,n,t={processNewMacroTasksSynchronously:!0}){e<=0||(s.assertInZone(),this.flushMicrotasks(),this._scheduler.tickToNext(e,n,t),this._lastError!==null&&this._resetLastErrorAndThrow())}tick(e=0,n,t={processNewMacroTasksSynchronously:!0}){s.assertInZone(),this.flushMicrotasks(),this._scheduler.tick(e,n,t),this._lastError!==null&&this._resetLastErrorAndThrow()}flushMicrotasks(){s.assertInZone();let e=()=>{(this._lastError!==null||this._uncaughtPromiseErrors.length)&&this._resetLastErrorAndThrow()};for(;this._microtasks.length>0;){let n=this._microtasks.shift();n.func.apply(n.target,n.args)}e()}flush(e,n,t){s.assertInZone(),this.flushMicrotasks();let r=this._scheduler.flush(e,n,t);return this._lastError!==null&&this._resetLastErrorAndThrow(),r}flushOnlyPendingTimers(e){s.assertInZone(),this.flushMicrotasks();let n=this._scheduler.flushOnlyPendingTimers(e);return this._lastError!==null&&this._resetLastErrorAndThrow(),n}removeAllTimers(){s.assertInZone(),this._scheduler.removeAll(),this.pendingPeriodicTimers=[],this.pendingTimers=[]}getTimerCount(){return this._scheduler.getTimerCount()+this._microtasks.length}name;properties={FakeAsyncTestZoneSpec:this};onScheduleTask(e,n,t,r){switch(r.type){case"microTask":let a=r.data&&r.data.args,h;if(a){let d=r.data.cbIdx;typeof a.length=="number"&&a.length>d+1&&(h=Array.prototype.slice.call(a,d+1))}this._microtasks.push({func:r.invoke,args:h,target:r.data&&r.data.target});break;case"macroTask":switch(r.source){case"setTimeout":r.data.handleId=this._setTimeout(r.invoke,r.data.delay,Array.prototype.slice.call(r.data.args,2));break;case"setImmediate":r.data.handleId=this._setTimeout(r.invoke,0,Array.prototype.slice.call(r.data.args,1));break;case"setInterval":r.data.handleId=this._setInterval(r.invoke,r.data.delay,Array.prototype.slice.call(r.data.args,2));break;case"XMLHttpRequest.send":throw new Error("Cannot make XHRs from within a fake async test. Request URL: "+r.data.url);case"requestAnimationFrame":case"webkitRequestAnimationFrame":case"mozRequestAnimationFrame":r.data.handleId=this._setTimeout(r.invoke,16,r.data.args,this.trackPendingRequestAnimationFrame);break;default:let d=this.findMacroTaskOption(r);if(d){let f=r.data&&r.data.args,b=f&&f.length>1?f[1]:0,m=d.callbackArgs?d.callbackArgs:f;d.isPeriodic?(r.data.handleId=this._setInterval(r.invoke,b,m),r.data.isPeriodic=!0):r.data.handleId=this._setTimeout(r.invoke,b,m);break}throw new Error("Unknown macroTask scheduled in fake async test: "+r.source)}break;case"eventTask":r=e.scheduleTask(t,r);break}return r}onCancelTask(e,n,t,r){switch(r.source){case"setTimeout":case"requestAnimationFrame":case"webkitRequestAnimationFrame":case"mozRequestAnimationFrame":return this._clearTimeout(r.data.handleId);case"setInterval":return this._clearInterval(r.data.handleId);default:let a=this.findMacroTaskOption(r);if(a){let h=r.data.handleId;return a.isPeriodic?this._clearInterval(h):this._clearTimeout(h)}return e.cancelTask(t,r)}}onInvoke(e,n,t,r,a,h,d){try{return s.patchDate(),e.invoke(t,r,a,h,d)}finally{this.patchDateLocked||s.resetDate()}}findMacroTaskOption(e){if(!this.macroTaskOptions)return null;for(let n=0;n<this.macroTaskOptions.length;n++){let t=this.macroTaskOptions[n];if(t.source===e.source)return t}return null}onHandleError(e,n,t,r){return this._lastError=r,!1}},ee=null;function Ne(){return Zone&&Zone.ProxyZoneSpec}var xe=null,wt=null;function At(){ee&&ee.unlockDatePatch(),ee=null,Ne()?.get()?.resetDelegate(),xe?.resetDelegate()}function un(s,e={}){let{flush:n=!0}=e,t=function(...r){let a=Ne();if(!a)throw new Error("ProxyZoneSpec is needed for the fakeAsync() test helper but could not be found. Make sure that your environment includes zone-testing.js");let h=a.assertPresent();if(Zone.current.get("FakeAsyncTestZoneSpec"))throw new Error("fakeAsync() calls can not be nested");try{if(!ee){let b=Zone&&Zone.FakeAsyncTestZoneSpec;if(h.getDelegate()instanceof b)throw new Error("fakeAsync() calls can not be nested");ee=new b}let d,f=h.getDelegate();h.setDelegate(ee),ee.lockDatePatch();try{d=s.apply(this,r),n?ee.flush(20,!0):Ct()}finally{h.setDelegate(f)}if(!n){if(ee.pendingPeriodicTimers.length>0)throw new Error(`${ee.pendingPeriodicTimers.length} periodic timer(s) still in the queue.`);if(ee.pendingTimers.length>0)throw new Error(`${ee.pendingTimers.length} timer(s) still in the queue.`)}return d}finally{At()}};return t.isFakeAsync=!0,t}function je(){if(ee==null&&(ee=Zone.current.get("FakeAsyncTestZoneSpec"),ee==null))throw new Error("The code should be running in the fakeAsync zone to call this function");return ee}function ln(s=0,e=!1){je().tick(s,null,e)}function hn(s){return je().flush(s)}function fn(){let s=je();s.pendingPeriodicTimers,s.pendingPeriodicTimers.length=0}function dn(s){return function(...n){let t=Ne();if(t===void 0)throw new Error("ProxyZoneSpec is needed for the withProxyZone() test helper but could not be found. Make sure that your environment includes zone-testing.js");return(t.get()!==void 0?Zone.current:Tn()).run(s,this,n)}}function Tn(){let s=Ne();if(s===void 0)throw new Error("ProxyZoneSpec is needed for withProxyZone but could not be found. Make sure that your environment includes zone-testing.js");return xe===null&&(xe=new s),wt=Zone.root.fork(xe),wt}function Ct(){je().flushMicrotasks()}function pn(s){s.FakeAsyncTestZoneSpec=et,s.__load_patch("fakeasync",(e,n,t)=>{n[t.symbol("fakeAsyncTest")]={resetFakeAsyncZone:At,flushMicrotasks:Ct,discardPeriodicTasks:fn,tick:ln,flush:hn,fakeAsync:un,withProxyZone:dn}},!0),le={setTimeout:X.setTimeout,setInterval:X.setInterval,clearTimeout:X.clearTimeout,clearInterval:X.clearInterval,nativeSetTimeout:X[s.__symbol__("setTimeout")],nativeClearTimeout:X[s.__symbol__("clearTimeout")]},Ie.nextId=Ie.getNextId()}function _n(s){let n={},t="__creationTrace__",r="STACKTRACE TRACKING",a="__SEP_TAG__",h=a+"@[native]";class d{error=w();timestamp=new Date}function f(){return new Error(r)}function b(){try{throw f()}catch(i){return i}}let m=f(),A=b(),w=m.stack?f:A.stack?b:f;function M(i){return i.stack?i.stack.split(`
`):[]}function v(i,T){let _=M(T);for(let p=0;p<_.length;p++){let C=_[p];n.hasOwnProperty(C)||i.push(_[p])}}function E(i,T){let _=[T?T.trim():""];if(i){let p=new Date().getTime();for(let C=0;C<i.length;C++){let P=i[C],W=P.timestamp,N=`____________________Elapsed ${p-W.getTime()} ms; At: ${W}`;N=N.replace(/[^\w\d]/g,"_"),_.push(h.replace(a,N)),v(_,P.error),p=W.getTime()}}return _.join(`
`)}function R(){return Error.stackTraceLimit>0}s.longStackTraceZoneSpec={name:"long-stack-trace",longStackTraceLimit:10,getLongStackTrace:function(i){if(!i)return;let T=i[s.__symbol__("currentTaskTrace")];return T?E(T,i.stack):i.stack},onScheduleTask:function(i,T,_,p){if(R()){let C=s.currentTask,P=C&&C.data&&C.data[t]||[];P=[new d].concat(P),P.length>this.longStackTraceLimit&&(P.length=this.longStackTraceLimit),p.data||(p.data={}),p.type==="eventTask"&&(p.data={...p.data}),p.data[t]=P}return i.scheduleTask(_,p)},onHandleError:function(i,T,_,p){if(R()){let C=s.currentTask||p.task;if(p instanceof Error&&C){let P=E(C.data&&C.data[t],p.stack);try{p.stack=p.longStack=P}catch{}}}return i.handleError(_,p)}};function y(i,T){T>0&&(i.push(M(new d().error)),y(i,T-1))}function l(){if(!R())return;let i=[];y(i,2);let T=i[0],_=i[1];for(let p=0;p<T.length;p++){let C=T[p];if(C.indexOf(r)==-1){let P=C.match(/^\s*at\s+/);if(P){h=P[0]+a+" (http://localhost)";break}}}for(let p=0;p<T.length;p++){let C=T[p],P=_[p];if(C===P)n[C]=!0;else break}}l()}var tt=class s{defaultSpecDelegate;name="ProxyZone";_delegateSpec=null;properties={ProxyZoneSpec:this};propertyKeys=null;lastTaskState=null;isNeedToTriggerHasTask=!1;tasks=[];static get(){return Zone.current.get("ProxyZoneSpec")}static isLoaded(){return s.get()instanceof s}static assertPresent(){let e=s.get();if(e===void 0)throw new Error("Expected to be running in 'ProxyZone', but it was not found.");return e}constructor(e=null){this.defaultSpecDelegate=e,this.setDelegate(e)}setDelegate(e){let n=this._delegateSpec!==e;this._delegateSpec=e,this.propertyKeys&&this.propertyKeys.forEach(t=>delete this.properties[t]),this.propertyKeys=null,e&&e.properties&&(this.propertyKeys=Object.keys(e.properties),this.propertyKeys.forEach(t=>this.properties[t]=e.properties[t])),n&&this.lastTaskState&&(this.lastTaskState.macroTask||this.lastTaskState.microTask)&&(this.isNeedToTriggerHasTask=!0)}getDelegate(){return this._delegateSpec}resetDelegate(){this.getDelegate(),this.setDelegate(this.defaultSpecDelegate)}tryTriggerHasTask(e,n,t){this.isNeedToTriggerHasTask&&this.lastTaskState&&(this.isNeedToTriggerHasTask=!1,this.onHasTask(e,n,t,this.lastTaskState))}removeFromTasks(e){if(this.tasks){for(let n=0;n<this.tasks.length;n++)if(this.tasks[n]===e){this.tasks.splice(n,1);return}}}getAndClearPendingTasksInfo(){if(this.tasks.length===0)return"";let n="--Pending async tasks are: ["+this.tasks.map(t=>{let r=t.data&&Object.keys(t.data).map(a=>a+":"+t.data[a]).join(",");return`type: ${t.type}, source: ${t.source}, args: {${r}}`})+"]";return this.tasks=[],n}onFork(e,n,t,r){return this._delegateSpec&&this._delegateSpec.onFork?this._delegateSpec.onFork(e,n,t,r):e.fork(t,r)}onIntercept(e,n,t,r,a){return this._delegateSpec&&this._delegateSpec.onIntercept?this._delegateSpec.onIntercept(e,n,t,r,a):e.intercept(t,r,a)}onInvoke(e,n,t,r,a,h,d){return this.tryTriggerHasTask(e,n,t),this._delegateSpec&&this._delegateSpec.onInvoke?this._delegateSpec.onInvoke(e,n,t,r,a,h,d):e.invoke(t,r,a,h,d)}onHandleError(e,n,t,r){return this._delegateSpec&&this._delegateSpec.onHandleError?this._delegateSpec.onHandleError(e,n,t,r):e.handleError(t,r)}onScheduleTask(e,n,t,r){return r.type!=="eventTask"&&this.tasks.push(r),this._delegateSpec&&this._delegateSpec.onScheduleTask?this._delegateSpec.onScheduleTask(e,n,t,r):e.scheduleTask(t,r)}onInvokeTask(e,n,t,r,a,h){return r.type!=="eventTask"&&this.removeFromTasks(r),this.tryTriggerHasTask(e,n,t),this._delegateSpec&&this._delegateSpec.onInvokeTask?this._delegateSpec.onInvokeTask(e,n,t,r,a,h):e.invokeTask(t,r,a,h)}onCancelTask(e,n,t,r){return r.type!=="eventTask"&&this.removeFromTasks(r),this.tryTriggerHasTask(e,n,t),this._delegateSpec&&this._delegateSpec.onCancelTask?this._delegateSpec.onCancelTask(e,n,t,r):e.cancelTask(t,r)}onHasTask(e,n,t,r){this.lastTaskState=r,this._delegateSpec&&this._delegateSpec.onHasTask?this._delegateSpec.onHasTask(e,n,t,r):e.hasTask(t,r)}};function mn(s){s.ProxyZoneSpec=tt}function yn(s){class e{runZone=s.current;constructor(t){this.name="syncTestZone for "+t}name;onScheduleTask(t,r,a,h){switch(h.type){case"microTask":case"macroTask":throw new Error(`Cannot call ${h.source} from within a sync test (${this.name}).`);case"eventTask":h=t.scheduleTask(a,h);break}return h}}s.SyncTestZoneSpec=e}function gn(s){s.__load_patch("promisefortest",(e,n,t)=>{let r=t.symbol("state"),a=null,h=t.symbol("parentUnresolved");Promise[t.symbol("patchPromiseForTest")]=function(){let f=Promise[n.__symbol__("ZonePromiseThen")];f||(f=Promise[n.__symbol__("ZonePromiseThen")]=Promise.prototype.then,Promise.prototype.then=function(){let b=f.apply(this,arguments);if(this[r]===a){let m=n.current.get("AsyncTestZoneSpec");m&&(m.unresolvedChainedPromiseCount++,b[h]=!0)}return b})},Promise[t.symbol("unPatchPromiseForTest")]=function(){let f=Promise[n.__symbol__("ZonePromiseThen")];f&&(Promise.prototype.then=f,Promise[n.__symbol__("ZonePromiseThen")]=void 0)}})}function kn(s){_n(s),mn(s),yn(s),tn(s),nn(s),rn(s),cn(s),pn(s),gn(s)}kn(Zone);
